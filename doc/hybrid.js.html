<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: hybrid.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: hybrid.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @overview The Hybrid API Reference
 *
 * &lt;p>This reference described the exported API for web browser to interact
 * with native application.&lt;/p>
 *
 * &lt;p>Usage:&lt;/p>
 * &lt;pre>
 * &amp;lt;script type="text/javascript" src="/1.0/hybrid.js"&amp;gt;&amp;lt;script&amp;gt;
 * &lt;/pre>
 *
 * @version 1.0
 * @auther Johnson Lee &lt;g.johnsonlee@gmail.com>
 */
(function(global) {

    var ajax = function(url, options) {
        var self = this;
        var opt = {
            success : options.success || function() {
                console.log('Request ' + url + ' success');
            },
            error : options.error || function(e) {
                console.error(e.stack || e.message || e);
            },
        };
        var xhr = new XMLHttpRequest();

        try {
            xhr.open('GET', url);
            xhr.onreadystatechange = function() {
                if (this.readyState !== 4) {
                    return;
                }

                if (this.responseText) {
                    opt.success.call(self, JSON.parse(this.responseText));
                } else {
                    opt.success.call(self);
                }
            };
            xhr.send();
        } catch (e) {
            opt.error.call(self, e);
        }
    };

    var VERSION_1_0 = '/hybrid/1.0';

    /**
     * &lt;p>The following example shows how to retrieve the current user:&lt;/p>
     * &lt;pre>
     * hybrid.getAuthentication({
     *     success : function(auth) {
     *         console.log(JSON.stringify(auth));
     *     },
     *     error : function(e) {
     *         console.log(e.stack || e.message || e);
     *     },
     * });
     * &lt;/pre>
     *
     * @namespace hybrid
     */
    global.hybrid = global.hybrid || {

        /**
         * Retrieve the agent information
         *
         * @param options {Object}
         *        A backbone-style options
         * @memberof hybrid
         * @see Agent
         */
        getAgent : function(options) {
            return ajax.call(this, VERSION_1_0 + '/agent', options || {});
        },

        /**
         * Retrieve the current authentication
         *
         * @param options {Object}
         *        A backbone-style options
         * @memberof hybrid
         * @see Authentication
         */
        getAuthentication : function(options) {
            return ajax.call(this, VERSION_1_0 + '/auth', options || {});
        },

        /**
         * Retrieve the current device
         *
         * @param options {Object}
         *        A backbone-style options
         * @see Device
         * @memberof hybrid
         */
        getDevice : function(options) {
            return ajax.call(this, VERSION_1_0 + '/device', options || {});
        },

        /**
         * Retrieve the active network
         *
         * @param options {Object}
         *        A backbone-style options
         * @see Network
         * @memberof hybrid
         */
        getActiveNetwork : function(options) {
            return ajax.call(this, VERSION_1_0 + '/connectivity/network', options || {});
        },

        /**
         * Open the specified URI
         *
         * @param uri {String}
         *        The target url
         * @param options {Object}
         *        A backbone-style options
         * @memberof hybrid
         */
        open : function(uri, params, options) {
            var args = Object.keys(params || {}).map(function(k) {
                return k + '=' + encodeURIComponent(params[k] || '');
            }).push('uri=' + encodeURIComponent(uri || '')).join('&amp;');
            return ajax.call(this, VERSION_1_0 + '/open?' + args, options || {});
        },

    };

})(this);

</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Agent.html">Agent</a></li><li><a href="Authentication.html">Authentication</a></li><li><a href="Device.html">Device</a></li><li><a href="Network.html">Network</a></li></ul><h3>Namespaces</h3><ul><li><a href="hybrid.html">hybrid</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-beta1</a> on Thu Jul 23 2015 16:11:27 GMT+0800 (CST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
